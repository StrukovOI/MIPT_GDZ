import numpy as np
import matplotlib.pyplot as plt
import pandas as pd

# Данные из таблицы
data = {
    'ln_nu': [2.995732274, 3.401197382, 3.688879454, 3.912023005, 4.094344562, 
              4.248495242, 4.382026635, 4.49980967, 4.605170186, 4.700480366,
              4.787491743, 4.941642423, 5.075173815, 5.192956851, 5.298317367,
              5.703782475, 5.991464547, 6.214608098, 6.396929655, 6.551080335,
              6.684611728, 6.802394763, 6.907755279, 7.170119543, 7.377758908,
              7.60090246, 7.863266724, 8.101677747, 8.366370302, 8.612503371,
              8.853665428, 9.104979856, 9.332558005, 9.581903928, 9.825526011,
              10.0647557, 10.30895266],
    'эксперимент': [0.995866738, 0.983552146, 0.968076619, 0.949880914, 0.931533663,
                   0.911751133, 0.890866638, 0.868779055, 0.846255857, 0.823511006,
                   0.801592885, 0.756144678, 0.712305768, 0.671616027, 0.633164978,
                   0.480743055, 0.380734528, 0.313037674, 0.265320679, 0.229625401,
                   0.202357759, 0.180723069, 0.163280941, 0.126108333, 0.1025526,
                   0.081897891, 0.062679935, 0.048906027, 0.036925166, 0.028199751,
                   0.021463214, 0.016070864, 0.012505441, 0.009873633, 0.008661215,
                   0.009138136, 0.016672172],
    '4,44': [0.992444, 0.983236, 0.970764, 0.955405, 0.937587, 0.917762, 0.896378,
             0.87386, 0.850597, 0.826927, 0.803141, 0.756135, 0.710959, 0.668403,
             0.628835, 0.474521, 0.374758, 0.307603, 0.260036, 0.224824, 0.197803,
             0.176456, 0.159186, 0.122816, 0.099765, 0.079587, 0.060764, 0.047294,
             0.035484, 0.02682, 0.020035, 0.014418, 0.010405, 0.007018, 0.004584,
             0.002892, 0.001726],
    '5,6': [0.98806, 0.973719, 0.954652, 0.931707, 0.905788, 0.877778, 0.848476,
            0.81857, 0.788618, 0.759056, 0.730208, 0.675482, 0.625422, 0.580244,
            0.539754, 0.39296, 0.305109, 0.248174, 0.208671, 0.179785, 0.157791,
            0.140505, 0.126569, 0.097336, 0.078863, 0.062702, 0.047612, 0.036785,
            0.027262, 0.020263, 0.014801, 0.010335, 0.007221, 0.004681, 0.002934,
            0.001773, 0.001008],
    '6,78': [0.982642, 0.962164, 0.935533, 0.904333, 0.870129, 0.834309, 0.798008,
             0.76209, 0.727169, 0.693652, 0.661779, 0.603359, 0.551996, 0.507127,
             0.46797, 0.332774, 0.255727, 0.206897, 0.173411, 0.14909, 0.130648,
             0.116192, 0.104559, 0.080194, 0.064809, 0.051341, 0.038742, 0.029678,
             0.02169, 0.015831, 0.011299, 0.007664, 0.0052, 0.003256, 0.001969,
             0.001144, 0.000623]
}

df = pd.DataFrame(data)

# Преобразуем ln(ν) обратно в ν
df['nu'] = np.exp(df['ln_nu'])

# Создаем график
plt.figure(figsize=(12, 8))

# Строим экспериментальные данные
plt.semilogx(df['nu'], df['эксперимент'], 'ro-', linewidth=2, markersize=6, label='Экспериментальные значения')

# Строим теоретические кривые
plt.semilogx(df['nu'], df['4,44'], 'c--', linewidth=1.5, label='σ = 4.44×10⁷ См/м')
plt.semilogx(df['nu'], df['5,6'], 'g--', linewidth=1.5, label='σ = 5.60×10⁷ См/м')
plt.semilogx(df['nu'], df['6,78'], 'b--', linewidth=1.5, label='σ = 6.78×10⁷ См/м')

# Настройки графика
plt.xlabel('Частота ν, Гц', fontsize=12)
plt.ylabel('|H₁/H₀|', fontsize=12)
plt.title('Зависимость коэффициента ослабления магнитного поля от частоты', fontsize=14)
plt.grid(True, which='both', linestyle='--', alpha=0.7)
plt.legend(fontsize=10)

# Устанавливаем пределы осей
plt.xlim(10, 50000)
plt.ylim(0, 1.1)

# Добавляем сетку
plt.minorticks_on()
plt.grid(True, which='minor', linestyle=':', alpha=0.4)

plt.tight_layout()
plt.show()

# Дополнительно: выводим таблицу с частотами и значениями
print("Таблица данных (первые 10 строк):")
print(df[['nu', 'эксперимент', '4,44', '5,6', '6,78']].head(10).to_string(index=False))
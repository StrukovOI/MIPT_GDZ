import matplotlib.pyplot as plt
import numpy as np

# Функция для преобразования строк с запятой в числа
def convert_to_float(str_list):
    return [float(s.replace(',', '.')) for s in str_list]

# Данные для восьми графиков
data = [
    # График 1
    {
        'x': ['0,2951', '0,5702', '0,8453', '1,1204', '1,3955'],
        'y': ['1,855', '3,23', '4,374', '5,112', '5,57']
    },
    # График 2
    {
        'x': ['0,2951', '0,5702', '0,8453', '1,1204', '1,3955'],
        'y': ['2,534', '4,375', '5,91', '6,856', '7,45']
    },
    # График 3
    {
        'x': ['0,2951', '0,5702', '0,8453', '1,1204', '1,3955'],
        'y': ['3,238', '5,475', '7,495', '8,579', '9,297']
    },
    # График 4
    {
        'x': ['0,2951', '0,5702', '0,8453', '1,1204', '1,3955'],
        'y': ['3,771', '6,563', '8,834', '10,265', '11,123']
    },
    # График 5
    {
        'x': ['0,2951', '0,5702', '0,8453', '1,1204', '1,3955'],
        'y': ['4,397', '7,651', '10,133', '11,815', '12,812']
    },
    # График 6
    {
        'x': ['0,2951', '0,5702', '0,8453', '1,1204', '1,3955'],
        'y': ['4,994', '8,629', '11,525', '13,379', '14,518']
    },
    # График 7
    {
        'x': ['0,2951', '0,5702', '0,8453', '1,1204', '1,3955'],
        'y': ['5,627', '9,666', '12,759', '14,879', '16,123']
    },
    # График 8
    {
        'x': ['0,2951', '0,5702', '0,8453', '1,1204', '1,3955'],
        'y': ['6,148', '10,605', '14,083', '16,441', '17,679']
    }
]

# Создаем один график
plt.figure(figsize=(12, 8))

# Цвета для разных кривых
colors = ['blue', 'red', 'green', 'orange', 'purple', 'brown', 'pink', 'gray']

# Строим все кривые на одном графике
for i, curve in enumerate(data):
    x_data = convert_to_float(curve['x'])
    y_data = convert_to_float(curve['y'])
    
    plt.plot(x_data, y_data, 'o-', linewidth=2, markersize=6, 
             color=colors[i], label=f'I = {round(i*0.1+0.3, 2)} мА')

# Настраиваем график
# plt.title('Все восемь кривых на одном графике', fontsize=16)
plt.grid(True, linestyle='--', alpha=0.7)
plt.xlabel('B, Тл', fontsize=12)
plt.ylabel(r'$\varepsilon_{\text{Х}}$, мВ', fontsize=12)
plt.legend(loc='best')

# Устанавливаем пределы осей
all_x = convert_to_float(data[0]['x'])  # Все кривые имеют одинаковые x
all_y = []
for curve in data:
    all_y.extend(convert_to_float(curve['y']))
    
plt.xlim(min(all_x) - 0.1, max(all_x) + 0.1)
plt.ylim(min(all_y) - 0.5, max(all_y) + 0.5)

plt.tight_layout()
plt.show()